<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å¹¼å„¿æ•™è‚²è‹±è¯­å‡çº§æ¸¸æˆ</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
        Arial, "PingFang SC", "Microsoft YaHei", sans-serif;
      background: linear-gradient(180deg, #fdf3e7, #f5f9ff);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 20px 0;
    }

    .game-wrapper {
      width: 95%;
      max-width: 800px;
      background: #ffffff;
      border-radius: 24px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      padding: 24px 22px 26px;
      box-sizing: border-box;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .title {
      font-size: 22px;
      font-weight: 700;
      color: #374151;
    }

    .badge {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #e0f2fe;
      color: #0369a1;
    }

    /* æ–°å¢æ ‡ç­¾åˆ‡æ¢æ ·å¼ */
    .tab-container {
      display: flex;
      gap: 8px;
      margin: 16px 0;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 8px;
    }

    .tab-btn {
      padding: 6px 16px;
      border-radius: 999px;
      border: none;
      background: #f3f4f6;
      color: #4b5563;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .tab-btn.active {
      background: #2563eb;
      color: #ffffff;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .stats {
      display: flex;
      gap: 12px;
      margin-top: 4px;
      font-size: 14px;
      color: #4b5563;
      flex-wrap: wrap;
    }

    .stat-item {
      background: #f3f4f6;
      padding: 4px 10px;
      border-radius: 999px;
    }

    .level {
      font-weight: 700;
      color: #2563eb;
    }

    .xp-bar-container {
      margin-top: 10px;
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      height: 12px;
      position: relative;
    }

    .xp-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #60a5fa, #22c55e);
      transition: width 0.3s ease;
    }

    .xp-text {
      font-size: 12px;
      color: #6b7280;
      margin-top: 4px;
      text-align: right;
    }

    .section-title {
      margin-top: 16px;
      font-size: 15px;
      color: #6b7280;
    }

    .question-card {
      margin-top: 8px;
      background: #f9fafb;
      border-radius: 16px;
      padding: 14px 16px;
    }

    .scene-tag {
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
      display: inline-block;
      margin-bottom: 6px;
    }

    .cn-sentence {
      font-size: 16px;
      margin-bottom: 6px;
      color: #111827;
    }

    .hint {
      font-size: 13px;
      color: #6b7280;
    }

    .options {
      margin-top: 14px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option-btn {
      width: 100%;
      text-align: left;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 8px 12px;
      font-size: 14px;
      background: #ffffff;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.1s ease,
        border-color 0.15s ease, color 0.15s ease;
    }

    .option-btn:hover {
      background: #eff6ff;
      transform: translateY(-1px);
      box-shadow: 0 5px 10px rgba(37, 99, 235, 0.12);
    }

    .option-btn.correct {
      background: #dcfce7;
      border-color: #22c55e;
      color: #166534;
    }

    .option-btn.wrong {
      background: #fee2e2;
      border-color: #ef4444;
      color: #991b1b;
    }

    .feedback {
      margin-top: 12px;
      min-height: 24px;
      font-size: 14px;
    }

    .feedback .positive {
      color: #15803d;
      font-weight: 600;
    }

    .feedback .negative {
      color: #b91c1c;
      font-weight: 600;
    }

    .feedback .note {
      color: #4b5563;
    }

    .controls {
      margin-top: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.15s ease;
      white-space: nowrap;
    }

    .btn-primary {
      background: #2563eb;
      color: #ffffff;
      box-shadow: 0 6px 12px rgba(37, 99, 235, 0.3);
    }

    .btn-primary:active {
      transform: translateY(1px);
      box-shadow: 0 3px 6px rgba(37, 99, 235, 0.35);
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #374151;
    }

    .btn-secondary:active {
      transform: translateY(1px);
      box-shadow: 0 2px 4px rgba(55, 65, 81, 0.25);
    }

    .level-up-banner {
      margin-top: 10px;
      font-size: 14px;
      color: #7c2d12;
      background: #fffbeb;
      border-radius: 999px;
      padding: 6px 10px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .level-up-banner.hidden {
      display: none;
    }

    /* æ–°å¢æ·»åŠ é¢˜ç›®è¡¨å•æ ·å¼ */
    .add-form {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 16px;
      background: #f9fafb;
      padding: 16px;
      border-radius: 16px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .form-label {
      font-size: 14px;
      color: #374151;
      font-weight: 500;
    }

    .form-input {
      padding: 8px 12px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      font-size: 14px;
    }

    .form-input:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
    }

    .form-select {
      padding: 8px 12px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      font-size: 14px;
      background: #ffffff;
    }

    .form-hint {
      font-size: 12px;
      color: #6b7280;
    }

    .success-alert {
      margin-top: 8px;
      padding: 8px 12px;
      background: #dcfce7;
      color: #166534;
      border-radius: 8px;
      font-size: 14px;
      display: none;
    }

    .success-alert.show {
      display: block;
    }

    .question-count {
      margin-top: 8px;
      font-size: 13px;
      color: #6b7280;
      background: #f3f4f6;
      padding: 4px 10px;
      border-radius: 999px;
      display: inline-block;
    }

    @media (max-width: 600px) {
      .title {
        font-size: 18px;
      }
      .game-wrapper {
        padding: 18px 14px 20px;
      }
    }
  </style>
</head>
<body>
  <div class="game-wrapper">
    <div class="header">
      <div>
        <div class="title">å¹¼å„¿æ•™è‚²è‹±è¯­å‡çº§æ¸¸æˆ</div>
        <div class="badge">ECE English Â· Teacher Mode</div>
      </div>
    </div>

    <!-- æ–°å¢æ ‡ç­¾åˆ‡æ¢ -->
    <div class="tab-container">
      <button class="tab-btn active" data-tab="quiz">ç­”é¢˜æ¨¡å¼</button>
      <button class="tab-btn" data-tab="add">æ·»åŠ é¢˜ç›®</button>
    </div>

    <!-- ç­”é¢˜æ¨¡å¼å†…å®¹ -->
    <div class="tab-content active" id="quiz">
      <div class="stats">
        <div class="stat-item">ç­‰çº§ï¼š<span id="level" class="level">1</span></div>
        <div class="stat-item">å¾—åˆ†ï¼š<span id="score">0</span></div>
        <div class="stat-item">è¿ç»­ç­”å¯¹ï¼š<span id="streak">0</span></div>
        <div class="question-count" id="questionCount">é¢˜åº“æ€»æ•°ï¼š0</div>
      </div>

      <div class="xp-bar-container">
        <div id="xpBar" class="xp-bar"></div>
      </div>
      <div class="xp-text" id="xpText">0 / 5 ç»éªŒ å‡çº§</div>

      <div id="levelUpBanner" class="level-up-banner hidden">
        â­ Level up! ä½ çš„å¹¼æ•™è‹±è¯­å‡çº§å•¦ï½
      </div>

      <div class="section-title">è¯·æ ¹æ®ä¸­æ–‡ï¼Œé€‰æ‹©æœ€è‡ªç„¶çš„å¹¼å„¿æ•™è‚²è‹±è¯­è¡¨è¾¾ï¼š</div>

      <div class="question-card">
        <div class="scene-tag" id="sceneTag">æƒ…æ™¯ï¼šæ—¥å¸¸æŒ‡ä»¤</div>
        <div class="cn-sentence" id="cnSentence">è¯·æŠŠç©å…·æ”¶å¥½ã€‚</div>
        <div class="hint" id="hint">æç¤ºï¼šå¯ä»¥ç”¨åœ¨æ”¶æ‹¾ç©å…·æ—¶é—´ pack away timeã€‚</div>

        <div class="options">
          <button class="option-btn" data-index="0"></button>
          <button class="option-btn" data-index="1"></button>
          <button class="option-btn" data-index="2"></button>
        </div>

        <div class="feedback" id="feedback"></div>
      </div>

      <div class="controls">
        <button class="btn btn-secondary" id="btnShowChinese">æ˜¾ç¤ºä¸­è‹±å¯¹ç…§</button>
        <button class="btn btn-primary" id="btnNext">ä¸‹ä¸€é¢˜ âœ</button>
      </div>
    </div>

    <!-- æ·»åŠ é¢˜ç›®å†…å®¹ -->
    <div class="tab-content" id="add">
      <div class="section-title">æ·»åŠ æ–°çš„å¹¼æ•™è‹±è¯­é¢˜ç›®ï¼ˆè‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°ï¼‰ï¼š</div>
      <div class="add-form" id="addQuestionForm">
        <div class="form-group">
          <label class="form-label">æƒ…æ™¯åˆ†ç±»ï¼ˆå¦‚ï¼šæ—¥å¸¸æŒ‡ä»¤/æƒ…ç»ªå¼•å¯¼ï¼‰</label>
          <input type="text" class="form-input" id="newScene" placeholder="ä¾‹å¦‚ï¼šæ‰‹å·¥æ´»åŠ¨/å¦‚å•å¼•å¯¼" required>
        </div>
        <div class="form-group">
          <label class="form-label">ä¸­æ–‡å¥å­</label>
          <input type="text" class="form-input" id="newCn" placeholder="ä¾‹å¦‚ï¼šè¯·æŠŠèƒ¶æ°´é€’ç»™æˆ‘" required>
        </div>
        <div class="form-group">
          <label class="form-label">é€‰é¡¹1ï¼ˆæ­£ç¡®ç­”æ¡ˆï¼‰</label>
          <input type="text" class="form-input" id="newOpt1" placeholder="ä¾‹å¦‚ï¼šPlease pass me the glue" required>
        </div>
        <div class="form-group">
          <label class="form-label">é€‰é¡¹2ï¼ˆå¹²æ‰°é¡¹ï¼‰</label>
          <input type="text" class="form-input" id="newOpt2" placeholder="ä¾‹å¦‚ï¼šPlease give me glue" required>
        </div>
        <div class="form-group">
          <label class="form-label">é€‰é¡¹3ï¼ˆå¹²æ‰°é¡¹ï¼‰</label>
          <input type="text" class="form-input" id="newOpt3" placeholder="ä¾‹å¦‚ï¼šGive glue me" required>
        </div>
        <div class="form-group">
          <label class="form-label">æ­£ç¡®ç­”æ¡ˆç´¢å¼•</label>
          <select class="form-select" id="newCorrectIndex" required>
            <option value="0">é€‰é¡¹1</option>
            <option value="1">é€‰é¡¹2</option>
            <option value="2">é€‰é¡¹3</option>
          </select>
          <div class="form-hint">æ³¨æ„ï¼šæ­£ç¡®ç­”æ¡ˆå¯¹åº”ä¸Šé¢çš„é€‰é¡¹åºå·ï¼ˆé»˜è®¤é€‰é€‰é¡¹1ï¼‰</div>
        </div>
        <div class="form-group">
          <label class="form-label">å¤‡æ³¨/çŸ¥è¯†ç‚¹ï¼ˆå¯é€‰ï¼‰</label>
          <input type="text" class="form-input" id="newNote" placeholder="ä¾‹å¦‚ï¼špass sb. sth. æ˜¯æ­£ç¡®çš„åŒå®¾è¯­ç»“æ„">
        </div>
        <button type="submit" class="btn btn-primary">æ·»åŠ é¢˜ç›®</button>
        <div class="success-alert" id="successAlert">âœ… é¢˜ç›®æ·»åŠ æˆåŠŸï¼å·²åŠ å…¥é¢˜åº“</div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // ====== æ‰©å±•é»˜è®¤é¢˜åº“ï¼ˆæ–°å¢30+å¹¼æ•™åœºæ™¯é¢˜ç›®ï¼‰======
      const defaultQuestions = [
        // åŸæœ‰é¢˜ç›®
        {
          scene: "æ—¥å¸¸æŒ‡ä»¤ / æ”¶æ‹¾ç©å…·",
          cn: "è¯·æŠŠç©å…·æ”¶å¥½ã€‚",
          options: [
            "Please pack away the toys.",
            "Please read the book loudly.",
            "Please go to sleep now."
          ],
          correctIndex: 0,
          note: "å¹¼å„¿å›­é‡Œå¸¸è¯´ pack away toys / pack away pleaseã€‚"
        },
        {
          scene: "æ•™å®¤å®‰å…¨ / å®¤å†…èµ°è·¯",
          cn: "è¯·ç”¨èµ°è·¯çš„è„šï¼Œä¸è¦è·‘ã€‚",
          options: [
            "Use your walking feet, please.",
            "Use your quiet hands, please.",
            "Use your big voice, please."
          ],
          correctIndex: 0,
          note: "walking feet æ˜¯å¹¼æ•™é‡Œå¾ˆå¸¸è§çš„è¡¨è¾¾ï¼Œæ¯” donâ€™t run æ›´æ¸©å’Œã€‚"
        },
        {
          scene: "å£°éŸ³æ§åˆ¶ / å®¤å†…éŸ³é‡",
          cn: "ç°åœ¨è¦ç”¨å°å°å£°ï¼Œè¯´è¯è½»ä¸€ç‚¹ã€‚",
          options: [
            "Use your inside voice.",
            "Use your outside voice.",
            "Use your singing voice."
          ],
          correctIndex: 0,
          note: "inside voice = å®¤å†…çš„å°å£°ï¼Œoutside voice = æˆ·å¤–å¯ä»¥å¤§ç‚¹å£°ã€‚"
        },
        {
          scene: "é›†ä½“æ´»åŠ¨ / åœˆåœˆæ—¶é—´",
          cn: "è¯·ååˆ°åœ°æ¯¯ä¸Šï¼Œæˆ‘ä»¬è¦å¼€å§‹åœˆåœˆæ—¶é—´äº†ã€‚",
          options: [
            "Please sit on the mat. Itâ€™s circle time.",
            "Please sit on the chair. Itâ€™s lunch time.",
            "Please sit by the door. Itâ€™s home time."
          ],
          correctIndex: 0,
          note: "mat time / circle time éƒ½å¯ä»¥ï¼Œç”¨åœ¨æ•…äº‹ã€é—®å€™ã€å”±æ­Œç­‰ã€‚"
        },
        {
          scene: "æˆ·å¤–æ´»åŠ¨ / å‡ºå»ç©",
          cn: "æˆ‘ä»¬è¦å»æˆ·å¤–ç©äº†ï¼Œæ’å¥½é˜Ÿã€‚",
          options: [
            "We are going outside. Please line up.",
            "We are going to bed. Please lie down.",
            "We are going to the office. Please be quiet."
          ],
          correctIndex: 0,
          note: "line up æ˜¯è€å¸ˆå¸¸ç”¨æ’é˜Ÿç”¨è¯­ã€‚"
        },
        {
          scene: "æ´—æ‰‹ / å«ç”Ÿä¹ æƒ¯",
          cn: "åƒç‚¹å¿ƒå‰å…ˆæ´—æ‰‹ã€‚",
          options: [
            "Wash your hands before morning tea.",
            "Wash your feet before morning tea.",
            "Wash your toys before morning tea."
          ],
          correctIndex: 0,
          note: "morning tea / afternoon tea åœ¨æ¾³æ´²å¹¼æ•™å¾ˆå¸¸è§ã€‚"
        },
        {
          scene: "å¦‚å• / æ¢å°¿ç‰‡",
          cn: "æˆ‘ä»¬å»æ¢å°¿ç‰‡å•¦ã€‚",
          options: [
            "Letâ€™s go for a nappy change.",
            "Letâ€™s go for a toy change.",
            "Letâ€™s go for a shoes change."
          ],
          correctIndex: 0,
          note: "æ¾³æ´²å¸¸ç”¨ nappyï¼Œç¾å¼å¤šç”¨ diaperã€‚"
        },
        {
          scene: "å†²çªè°ƒè§£ / æ’é˜Ÿè½®æµ",
          cn: "è½®æµç©ï¼Œæ¯ä¸ªäººéƒ½æœ‰æœºä¼šã€‚",
          options: [
            "Take turns. Everyone will have a turn.",
            "Donâ€™t touch it. Itâ€™s mine.",
            "You must share all your toys now."
          ],
          correctIndex: 0,
          note: "have a turn æ˜¯å¹¼å„¿å¸¸ç”¨è¡¨è¾¾ï¼ŒæŸ”å’Œåˆæ¸…æ¥šã€‚"
        },
        {
          scene: "æ­£å‘å¼•å¯¼ / é¼“åŠ±åˆ†äº«",
          cn: "è°¢è°¢ä½ æ„¿æ„å’Œæœ‹å‹åˆ†äº«ç©å…·ã€‚",
          options: [
            "Thank you for sharing the toy with your friend.",
            "Thank you for taking the toy away.",
            "Thank you for hiding the toy."
          ],
          correctIndex: 0,
          note: "Thank you for + V-ing å¾ˆé€‚åˆå¯¹å­©å­è¡¨è¾¾è‚¯å®šè¡Œä¸ºã€‚"
        },
        {
          scene: "è¿‡æ¸¡æé†’ / å³å°†æ”¶æ‹¾",
          cn: "è¿˜æœ‰äº”åˆ†é’Ÿå°±è¦æ”¶æ‹¾ç©å…·äº†ã€‚",
          options: [
            "Five more minutes and then we will pack away.",
            "Five more minutes and then we will sleep.",
            "Five more minutes and then we will go home now."
          ],
          correctIndex: 0,
          note: "Five more minutes and thenâ€¦ å¸¸ç”¨æ¥åšè¿‡æ¸¡æé†’ï¼Œå‡å°‘æƒ…ç»ªçˆ†å‘ã€‚"
        },
        {
          scene: "æƒ…ç»ªå…±æƒ…",
          cn: "æˆ‘çœ‹åˆ°ä½ ç°åœ¨å¾ˆéš¾è¿‡ï¼Œä½ æƒ³è¦ä¸€ä¸ªæ‹¥æŠ±å—ï¼Ÿ",
          options: [
            "I can see you feel upset. Would you like a hug?",
            "Stop crying. You are not a baby.",
            "Go away and cry by yourself."
          ],
          correctIndex: 0,
          note: "I can see you feelâ€¦ æ˜¯å¾ˆæ¸©æŸ”çš„æƒ…ç»ªå…±æƒ…å¥å‹ã€‚"
        },
        {
          scene: "è§„åˆ™æé†’ / æ¸©å’Œç•Œé™",
          cn: "ç©å…·æ˜¯ç”¨æ¥ç©çš„ï¼Œä¸æ˜¯ç”¨æ¥æ‰”çš„ã€‚",
          options: [
            "Toys are for playing, not for throwing.",
            "Toys are for hiding, not for looking.",
            "Toys are for eating, not for playing."
          ],
          correctIndex: 0,
          note: "â€¦are for V-ing, not for V-ing. æ¸©å’Œåˆæ¸…æ™°åœ°è®¾å®šè§„åˆ™ã€‚"
        },
        {
          scene: "ç‚¹å / åˆ°å›­é—®å€™",
          cn: "æ—©ä¸Šå¥½ï¼Œæ¬¢è¿æ¥åˆ°å¹¼å„¿å›­ã€‚",
          options: [
            "Good morning, welcome to kindergarten.",
            "Good night, welcome to kindergarten.",
            "Goodbye, welcome to kindergarten."
          ],
          correctIndex: 0,
          note: "ä¹Ÿå¯ä»¥ç”¨ centre / preschool ç­‰æ ¹æ®ä½ æ‰€åœ¨æœºæ„è°ƒæ•´ã€‚"
        },
        {
          scene: "æ•…äº‹æ—¶é—´",
          cn: "æˆ‘ä»¬è¦è®²æ•…äº‹äº†ï¼Œä½ å¯ä»¥é€‰ä¸€æœ¬ä½ æƒ³å¬çš„ä¹¦ã€‚",
          options: [
            "Itâ€™s story time. You can choose a book youâ€™d like to listen to.",
            "Itâ€™s cleaning time. You can throw away a book.",
            "Itâ€™s running time. You can run with a book."
          ],
          correctIndex: 0,
          note: "Itâ€™s story time. / Choose a book. æ˜¯æ•…äº‹ç¯èŠ‚å¸¸ç”¨è¡¨è¾¾ã€‚"
        },
        {
          scene: "æ‰‹å·¥ä¸æ„Ÿç»Ÿæ´»åŠ¨",
          cn: "è¿™æ˜¯æ„Ÿå®˜æ¸¸æˆï¼Œå¯ä»¥ç”¨æ‰‹å»æ‘¸ä¸€æ‘¸ã€æä¸€æã€‚",
          options: [
            "This is a sensory activity. You can touch and squish it.",
            "This is a sleepy activity. You must close your eyes.",
            "This is a noisy activity. You must shout loudly."
          ],
          correctIndex: 0,
          note: "sensory activity / sensory play å¯¹åº”æ„Ÿç»Ÿã€æ„Ÿå®˜æ¢ç´¢ã€‚"
        },
        {
          scene: "å®¶é•¿æ²Ÿé€š / æ¥å­©å­",
          cn: "ä»–ä»Šå¤©åˆç¡ç¡å¾—å¾ˆå¥½ï¼Œå¤§æ¦‚ç¡äº†ä¸€ä¸ªåŠå°æ—¶ã€‚",
          options: [
            "He had a good nap today, about one and a half hours.",
            "He didnâ€™t sleep at all and kept running.",
            "He was crying all the time during nap time."
          ],
          correctIndex: 0,
          note: "å®¶é•¿æ²Ÿé€šæ—¶å¸¸ç”¨ had a good nap / slept wellã€‚"
        },
        // æ–°å¢é¢˜ç›®ï¼ˆ30+ï¼‰
        {
          scene: "æ‰‹å·¥æ´»åŠ¨ / ææ–™è¯·æ±‚",
          cn: "è¯·æŠŠå‰ªåˆ€é€’ç»™æˆ‘ï¼Œå°å¿ƒä¸è¦å‰ªåˆ°æ‰‹ã€‚",
          options: [
            "Please pass me the scissors, be careful not to cut your fingers.",
            "Give me scissors, don't cut hand.",
            "Scissors give me, no cut finger."
          ],
          correctIndex: 0,
          note: "pass me sth. æ¯” give me sth. æ›´ç¤¼è²Œï¼Œbe careful not toâ€¦ æé†’å®‰å…¨ã€‚"
        },
        {
          scene: "è¿›é¤ç¤¼ä»ª / è‡ªä¸»è¿›é£Ÿ",
          cn: "æ…¢æ…¢åƒï¼Œä¸€å£ä¸€å£æ¥ï¼Œä¸è¦ç€æ€¥ã€‚",
          options: [
            "Eat slowly, take small bites, donâ€™t rush.",
            "Eat fast, big bites, hurry up.",
            "Eat quick, one bite, no wait."
          ],
          correctIndex: 0,
          note: "take small bites æ˜¯å¹¼æ•™å¸¸ç”¨è¡¨è¾¾ï¼Œæé†’ç»†åš¼æ…¢å’½ã€‚"
        },
        {
          scene: "åˆç¡å‡†å¤‡ / è„±å¤–å¥—",
          cn: "åˆç¡æ—¶é—´åˆ°äº†ï¼Œè¯·æŠŠå¤–å¥—è„±ä¸‹æ¥å å¥½ã€‚",
          options: [
            "Nap time! Please take off your coat and fold it.",
            "Sleep time! Take coat off and throw it.",
            "Bed time! Coat off and put on bed."
          ],
          correctIndex: 0,
          note: "fold it åŸ¹å…»æ”¶çº³ä¹ æƒ¯ï¼Œnap time æ˜¯å¹¼å„¿å›­åˆç¡ä¸“ç”¨è¡¨è¾¾ã€‚"
        },
        {
          scene: "æƒ…ç»ªå¼•å¯¼ / ç”Ÿæ°”ç®¡ç†",
          cn: "å¦‚æœä½ ç”Ÿæ°”äº†ï¼Œå¯ä»¥æ·±å‘¼å¸ä¸‰æ¬¡ã€‚",
          options: [
            "If you feel angry, you can take three deep breaths.",
            "You angry, breathe three times.",
            "Angry? Breathe deep three."
          ],
          correctIndex: 0,
          note: "take deep breaths æ˜¯å¹¼å„¿æƒ…ç»ªç®¡ç†çš„å¸¸ç”¨æ–¹æ³•ã€‚"
        },
        {
          scene: "æˆ·å¤–å®‰å…¨ / é˜²æ™’æé†’",
          cn: "å‡ºå»ç©ä¹‹å‰è¦æ¶‚é˜²æ™’éœœï¼Œæˆ´ä¸Šä½ çš„å¸½å­ã€‚",
          options: [
            "Put on sunscreen and wear your hat before going outside.",
            "Wear sun cream and hat go outside.",
            "Sun cream on, hat wear, go play."
          ],
          correctIndex: 0,
          note: "put on sunscreen / wear your hat æ˜¯æ ‡å‡†è¡¨è¾¾ï¼Œæ¾³æ´²å¹¼æ•™é«˜é¢‘ä½¿ç”¨ã€‚"
        },
        {
          scene: "å¦‚å•è®­ç»ƒ / ä¸»åŠ¨è¡¨è¾¾",
          cn: "å¦‚æœä½ æƒ³ä¸Šå•æ‰€ï¼Œå¯ä»¥ä¸¾æ‰‹å‘Šè¯‰æˆ‘ã€‚",
          options: [
            "If you need to go to the toilet, you can put up your hand and tell me.",
            "Want toilet? Raise hand tell me.",
            "Toilet need? Hand up say me."
          ],
          correctIndex: 0,
          note: "need to go to the toilet æ¯” want to pee æ›´ç¤¼è²Œï¼Œput up your hand è§„èŒƒè¡¨è¾¾ã€‚"
        },
        {
          scene: "åˆ†äº«ç©å…· / è½®æµä½¿ç”¨",
          cn: "ä½ å¯ä»¥ç©äº”åˆ†é’Ÿï¼Œç„¶åæ¢å°æ˜ç©ã€‚",
          options: [
            "You can play with it for five minutes, then it's Xiao Ming's turn.",
            "You play five minute, then Xiao Ming play.",
            "Five minute play, then Xiao Ming turn."
          ],
          correctIndex: 0,
          note: "it's sb.'s turn æ˜¯è½®æµçš„æ ‡å‡†è¡¨è¾¾ï¼Œfor five minutes å¼ºè°ƒæ—¶é•¿ã€‚"
        },
        {
          scene: "æ¸…æ´ä¹ æƒ¯ / æ“¦æ¡Œå­",
          cn: "åƒå®Œç‚¹å¿ƒåï¼Œè¯·ç”¨æ¹¿å·¾æŠŠæ¡Œå­æ“¦å¹²å‡€ã€‚",
          options: [
            "After morning tea, please wipe the table clean with a wet wipe.",
            "Eat snack, wipe table with wet paper.",
            "Finish food, clean table use wet towel."
          ],
          correctIndex: 0,
          note: "wet wipe æ˜¯æ¹¿å·¾çš„å¸¸ç”¨è¯´æ³•ï¼Œwipe sth. clean å¼ºè°ƒæ“¦å¹²å‡€çš„ç»“æœã€‚"
        },
        {
          scene: "é›†ä½“æ¸¸æˆ / å¬æŒ‡ä»¤åšåŠ¨ä½œ",
          cn: "å½“æˆ‘è¯´åœçš„æ—¶å€™ï¼Œæ‰€æœ‰äººéƒ½è¦åœä¸‹æ¥å“¦ã€‚",
          options: [
            "When I say stop, everyone needs to stop.",
            "I say stop, everyone stop.",
            "Say stop, all people stop."
          ],
          correctIndex: 0,
          note: "when I sayâ€¦ å¼•å¯¼æ¡ä»¶çŠ¶è¯­ä»å¥ï¼Œneeds toâ€¦ æ¸©å’Œçš„æŒ‡ä»¤ã€‚"
        },
        {
          scene: "ç»˜æœ¬é˜…è¯» / æé—®äº’åŠ¨",
          cn: "ä½ çœ‹åˆ°å›¾ç‰‡é‡Œæœ‰ä¸€åªå°å…”å­å—ï¼Ÿå®ƒåœ¨åšä»€ä¹ˆå‘€ï¼Ÿ",
          options: [
            "Do you see a little rabbit in the picture? What is it doing?",
            "You see rabbit in picture? It do what?",
            "See rabbit? What it doing?"
          ],
          correctIndex: 0,
          note: "Do you seeâ€¦? æ¯” Seeâ€¦? æ›´ç¤¼è²Œï¼Œç°åœ¨è¿›è¡Œæ—¶æé—®åŠ¨ä½œã€‚"
        },
        {
          scene: "æ„Ÿç»Ÿæ¸¸æˆ / è§¦è§‰ç®±",
          cn: "æŠŠæ‰‹ä¼¸è¿›ç®±å­é‡Œï¼ŒçŒœçŒœä½ æ‘¸åˆ°äº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ",
          options: [
            "Put your hand into the box and guess what you're touching.",
            "Hand in box, guess touch what?",
            "Put hand box, guess what touch."
          ],
          correctIndex: 0,
          note: "put your hand intoâ€¦ è§„èŒƒè¡¨è¾¾ï¼Œç°åœ¨è¿›è¡Œæ—¶å¼ºè°ƒæ­£åœ¨è¿›è¡Œçš„åŠ¨ä½œã€‚"
        },
        {
          scene: "ç©¿è„±é‹å­ / è‡ªç†èƒ½åŠ›",
          cn: "è¯·æŠŠé‹å­è„±ä¸‹æ¥ï¼Œæ”¾åœ¨é‹æŸœé‡Œä½ çš„ä½ç½®ä¸Šã€‚",
          options: [
            "Please take off your shoes and put them in your spot in the shoe rack.",
            "Take shoes off, put in shoe cabinet your place.",
            "Shoes off, put shoe rack your spot."
          ],
          correctIndex: 0,
          note: "your spot å¼ºè°ƒä¸“å±ä½ç½®ï¼Œshoe rack æ˜¯é‹æŸœçš„å¸¸ç”¨è¯´æ³•ã€‚"
        },
        {
          scene: "æƒ…ç»ªè¯†åˆ« / è¡¨è¾¾æ„Ÿå—",
          cn: "ä½ çœ‹èµ·æ¥å¾ˆå¼€å¿ƒï¼Œèƒ½å’Œæˆ‘åˆ†äº«ä¸€ä¸‹ä¸ºä»€ä¹ˆå—ï¼Ÿ",
          options: [
            "You look happy, can you share why with me?",
            "You look happy, tell me why?",
            "Happy? Share why with me?"
          ],
          correctIndex: 0,
          note: "look happy æè¿°å¤–åœ¨æƒ…ç»ªï¼Œcan youâ€¦ é‚€è¯·å¼æé—®æ›´å‹å¥½ã€‚"
        },
        {
          scene: "å–æ°´æé†’ / è¡¥å……æ°´åˆ†",
          cn: "å¦‚æœä½ å£æ¸´äº†ï¼Œå¯ä»¥å»å–æ°´åŒºæ¥æ°´å–ã€‚",
          options: [
            "If you're thirsty, you can get water from the drinking area.",
            "You thirsty, go water area drink water.",
            "Thirsty? Go drink water area."
          ],
          correctIndex: 0,
          note: "drinking area æ˜¯å¹¼å„¿å›­å–æ°´åŒºçš„æ ‡å‡†è¡¨è¾¾ï¼Œget water æ¯” drink water æ›´å‡†ç¡®ã€‚"
        },
        {
          scene: "æ•´ç†ä¹¦åŒ… / ç¦»å›­å‡†å¤‡",
          cn: "è¯·æŠŠä½ çš„æ°´æ¯å’Œæ¢æ´—è¡£ç‰©æ”¾è¿›ä¹¦åŒ…é‡Œã€‚",
          options: [
            "Please put your water bottle and spare clothes into your bag.",
            "Put cup and change clothes in bag.",
            "Cup and clothes put into bag."
          ],
          correctIndex: 0,
          note: "spare clothes æ˜¯æ¢æ´—è¡£ç‰©çš„å¸¸ç”¨è¯´æ³•ï¼Œwater bottle æ¯” cup æ›´å…·ä½“ã€‚"
        },
        {
          scene: "æ¤ç‰©ç…§æ–™ / è´£ä»»æ„ŸåŸ¹å…»",
          cn: "è®°å¾—æ¯å¤©ç»™ä½ çš„å°ç›†æ ½æµ‡ä¸€ç‚¹ç‚¹æ°´å“¦ã€‚",
          options: [
            "Remember to water your little plant a little every day.",
            "Remember water your plant little every day.",
            "Every day water plant a little."
          ],
          correctIndex: 0,
          note: "remember to do sth. æé†’åŠ¨ä½œï¼Œa little å¼ºè°ƒé€‚é‡æµ‡æ°´ã€‚"
        },
        {
          scene: "æ’é˜Ÿæ´—æ‰‹ / ç§©åºå¼•å¯¼",
          cn: "è¯·æ’é˜Ÿæ´—æ‰‹ï¼Œä¸€ä¸ªè·Ÿç€ä¸€ä¸ªï¼Œä¸è¦æ’é˜Ÿã€‚",
          options: [
            "Please line up to wash hands, one after another, don't cut in line.",
            "Line up wash hands, one follow one, no cut line.",
            "Wash hands line, one by one, no jump queue."
          ],
          correctIndex: 0,
          note: "one after another æ¯” one by one æ›´å¼ºè°ƒé¡ºåºï¼Œcut in line æ˜¯æ’é˜Ÿçš„æ ‡å‡†è¡¨è¾¾ã€‚"
        },
        {
          scene: "éŸ³ä¹æ´»åŠ¨ / ä¹å™¨ä½¿ç”¨",
          cn: "è½»è½»æ•²é¼“ï¼Œä¸è¦å¤ªç”¨åŠ›ï¼Œä¿æŠ¤æˆ‘ä»¬çš„ä¹å™¨ã€‚",
          options: [
            "Tap the drum gently, don't hit it too hard, take care of our instruments.",
            "Light hit drum, no hard, protect instrument.",
            "Tap drum soft, no strong, care instrument."
          ],
          correctIndex: 0,
          note: "tap gently / hit hard æ˜¯åŠ›åº¦çš„å¯¹æ¯”è¡¨è¾¾ï¼Œtake care of å¼ºè°ƒçˆ±æŠ¤ã€‚"
        },
        {
          scene: "ç”Ÿæ—¥åº†ç¥ / ç¥ç¦è¡¨è¾¾",
          cn: "ä»Šå¤©æ˜¯è‰è‰çš„ç”Ÿæ—¥ï¼Œæˆ‘ä»¬ä¸€èµ·å”±ç”Ÿæ—¥å¿«ä¹æ­Œå§ï¼",
          options: [
            "Today is Lily's birthday, let's sing Happy Birthday together!",
            "Today Lily birthday, sing Happy Birthday together!",
            "Lily birthday today, we sing birthday song!"
          ],
          correctIndex: 0,
          note: "sb.'s birthday åè¯æ‰€æœ‰æ ¼ï¼Œlet'sâ€¦ é‚€è¯·å¼è¡¨è¾¾æ›´ç§¯æã€‚"
        },
        {
          scene: "å¤©æ°”å˜åŒ– / å¢å‡è¡£ç‰©",
          cn: "å¤–é¢ä¸‹é›¨äº†ï¼Œå‡ºé—¨è¦ç©¿ä¸Šä½ çš„é›¨è¡£å’Œé›¨é´ã€‚",
          options: [
            "It's raining outside, put on your raincoat and rain boots when going out.",
            "Outside rain, wear raincoat and boots go out.",
            "Rain outside, put raincoat and boots wear."
          ],
          correctIndex: 0,
          note: "raincoat / rain boots æ˜¯é›¨å…·çš„æ ‡å‡†è¯´æ³•ï¼Œit's raining æè¿°å¤©æ°”ã€‚"
        },
        {
          scene: "è§£å†³å†²çª / é“æ­‰å¼•å¯¼",
          cn: "å¦‚æœä½ ä¸å°å¿ƒç¢°åˆ°äº†æœ‹å‹ï¼Œè¦è¯´å¯¹ä¸èµ·å“¦ã€‚",
          options: [
            "If you accidentally bump into a friend, say sorry.",
            "You touch friend by mistake, say sorry.",
            "Accident touch friend, say sorry."
          ],
          correctIndex: 0,
          note: "accidentally bump into æ¯” touch by mistake æ›´è‡ªç„¶ï¼Œsay sorry ç®€æ´æ˜äº†ã€‚"
        },
        {
          scene: "ç»˜æœ¬å»¶ä¼¸ / è§’è‰²æ‰®æ¼”",
          cn: "ä½ æƒ³æ‰®æ¼”æ•…äº‹é‡Œçš„å°ç†Šå—ï¼Ÿæˆ‘æ¥å½“ç†Šå¦ˆå¦ˆã€‚",
          options: [
            "Do you want to be the little bear in the story? I'll be Mama Bear.",
            "You want play bear in story? I be Mama Bear.",
            "Want be bear? I am Mama Bear."
          ],
          correctIndex: 0,
          note: "want to beâ€¦ è¡¨è¾¾æ‰®æ¼”è§’è‰²ï¼ŒMama Bear é¦–å­—æ¯å¤§å†™å¼ºè°ƒè§’è‰²åã€‚"
        },
        {
          scene: "å¦‚å•å / æ´—æ‰‹æ­¥éª¤",
          cn: "ä¸Šå®Œå•æ‰€åï¼Œè¦è®°å¾—ç”¨æ´—æ‰‹æ¶²æ“å‡ºæ³¡æ³¡å“¦ã€‚",
          options: [
            "After using the toilet, remember to lather up with hand soap.",
            "After toilet, remember use soap make bubble.",
            "Toilet finish, use soap rub bubble."
          ],
          correctIndex: 0,
          note: "lather up æ˜¯æ“å‡ºæ³¡æ²«çš„ä¸“ä¸šè¡¨è¾¾ï¼Œhand soap æ¯” soap æ›´å…·ä½“ã€‚"
        },
        {
          scene: "æˆ·å¤–æ¸¸æˆ / æ¡åƒåœ¾",
          cn: "ç©å®Œåè¯·æŠŠåœ°ä¸Šçš„åƒåœ¾æ¡èµ·æ¥ï¼Œæ‰”è¿›åƒåœ¾æ¡¶ã€‚",
          options: [
            "After playing, please pick up the trash on the ground and throw it in the bin.",
            "Play finish, pick trash on ground throw bin.",
            "After play, pick up garbage throw trash can."
          ],
          correctIndex: 0,
          note: "bin æ˜¯æ¾³æ´²å¸¸ç”¨åƒåœ¾æ¡¶è¯´æ³•ï¼Œpick up the trash è§„èŒƒè¡¨è¾¾ã€‚"
        },
        {
          scene: "åˆç¡èµ·åºŠ / ç©¿è¡£æœ",
          cn: "ç¡é†’äº†å—ï¼Ÿè‡ªå·±è¯•ç€æŠŠè¡£æœç©¿å¥½å“¦ã€‚",
          options: [
            "Did you wake up? Try to put on your clothes by yourself.",
            "Wake up? Try wear clothes by yourself.",
            "Awake? Try put clothes on self."
          ],
          correctIndex: 0,
          note: "by yourself å¼ºè°ƒç‹¬ç«‹å®Œæˆï¼Œtry to do sth. é¼“åŠ±å°è¯•ã€‚"
        },
        {
          scene: "ç¾æœ¯åˆ›ä½œ / é¢œè‰²è®¤çŸ¥",
          cn: "ä½ æƒ³ç”¨çº¢è‰²è¿˜æ˜¯è“è‰²æ¥ç”»å¤©ç©ºå‘¢ï¼Ÿ",
          options: [
            "Do you want to use red or blue to paint the sky?",
            "You want use red or blue paint sky?",
            "Want red or blue draw sky?"
          ],
          correctIndex: 0,
          note: "use sth. to do sth. è¡¨è¾¾å·¥å…·ç”¨é€”ï¼Œpaint the sky æ¯” draw sky æ›´å‡†ç¡®ã€‚"
        },
        {
          scene: "å®‰å…¨è§„åˆ™ / ä¸ç¢°ç”µæº",
          cn: "ç”µæºæ’åº§å¾ˆå±é™©ï¼Œå°æ‰‹ä¸è¦ç¢°å“¦ã€‚",
          options: [
            "Power sockets are dangerous, don't touch them with your little hands.",
            "Socket dangerous, little hand no touch.",
            "Power plug dangerous, don't touch."
          ],
          correctIndex: 0,
          note: "power sockets æ˜¯ç”µæºæ’åº§çš„æ ‡å‡†è¯´æ³•ï¼Œlittle hands æ›´äº²åˆ‡ã€‚"
        },
        {
          scene: "ç¤¾äº¤ç¤¼ä»ª / æ‰“æ‹›å‘¼",
          cn: "çœ‹åˆ°è€å¸ˆè¦è¯´æ—©ä¸Šå¥½ï¼Œçœ‹åˆ°æœ‹å‹è¦è¯´ä½ å¥½ã€‚",
          options: [
            "Say good morning to teachers and hello to friends when you see them.",
            "See teacher say good morning, see friend say hello.",
            "Teacher see say good morning, friend see say hello."
          ],
          correctIndex: 0,
          note: "when you see them è¡¥å……åœºæ™¯ï¼Œä½¿å¥å­æ›´å®Œæ•´ã€‚"
        },
        {
          scene: "æ„Ÿç»Ÿè®­ç»ƒ / å¹³è¡¡æœ¨",
          cn: "æ…¢æ…¢èµ°å¹³è¡¡æœ¨ï¼Œå¼ å¼€æ‰‹è‡‚ä¿æŒå¹³è¡¡ã€‚",
          options: [
            "Walk slowly on the balance beam and stretch out your arms to keep balance.",
            "Slow walk balance beam, open arms keep balance.",
            "Walk slow on beam, stretch arms balance."
          ],
          correctIndex: 0,
          note: "balance beam æ˜¯å¹³è¡¡æœ¨çš„ä¸“ä¸šè¯´æ³•ï¼Œstretch out your arms å¼ºè°ƒå¼ å¼€æ‰‹è‡‚ã€‚"
        },
        {
          scene: "ç‚¹å¿ƒæ—¶é—´ / é£Ÿç‰©åˆ†äº«",
          cn: "å¦‚æœä½ ä¸å–œæ¬¢åƒé¥¼å¹²ï¼Œå¯ä»¥å’Œæœ‹å‹äº¤æ¢å“¦ã€‚",
          options: [
            "If you don't like cookies, you can swap with a friend.",
            "You don't like cookie, swap with friend.",
            "No like biscuit, exchange with friend."
          ],
          correctIndex: 0,
          note: "swap æ¯” exchange æ›´å£è¯­åŒ–ï¼Œé€‚åˆå¹¼å„¿åœºæ™¯ã€‚"
        },
        {
          scene: "ç¦»å›­é“åˆ« / ç¤¼è²Œç”¨è¯­",
          cn: "å†è§ï¼Œæ˜å¤©è§ï¼è·¯ä¸Šæ³¨æ„å®‰å…¨ã€‚",
          options: [
            "Goodbye, see you tomorrow! Be safe on your way home.",
            "Bye, see tomorrow! Road safe.",
            "Goodbye, tomorrow see! Go home safe."
          ],
          correctIndex: 0,
          note: "see you tomorrow è§„èŒƒè¡¨è¾¾ï¼Œbe safe on your way home å®Œæ•´é“åˆ«ç¥ç¦ã€‚"
        }
      ];

      // ====== æœ¬åœ°å­˜å‚¨ç®¡ç† ======
      function getQuestions() {
        const saved = localStorage.getItem("eceEnglishQuestions");
        return saved ? JSON.parse(saved) : defaultQuestions;
      }

      function saveQuestions(questions) {
        localStorage.setItem("eceEnglishQuestions", JSON.stringify(questions));
        updateQuestionCount();
      }

      function addNewQuestion(newQ) {
        const questions = getQuestions();
        questions.push(newQ);
        saveQuestions(questions);
        return questions;
      }

      function updateQuestionCount() {
        const count = getQuestions().length;
        document.getElementById("questionCount").textContent = `é¢˜åº“æ€»æ•°ï¼š${count}`;
      }

      // ====== æ¸¸æˆçŠ¶æ€ç®¡ç† ======
      let currentQuestion = null;
      let score = 0;
      let streak = 0;
      let level = 1;
      let xp = 0;
      let xpToNext = 5;
      let hasAnswered = false;

      // å…ƒç´ è·å–
      const levelEl = document.getElementById("level");
      const scoreEl = document.getElementById("score");
      const streakEl = document.getElementById("streak");
      const xpBarEl = document.getElementById("xpBar");
      const xpTextEl = document.getElementById("xpText");
      const levelUpBanner = document.getElementById("levelUpBanner");

      const sceneTagEl = document.getElementById("sceneTag");
      const cnSentenceEl = document.getElementById("cnSentence");
      const hintEl = document.getElementById("hint");
      const feedbackEl = document.getElementById("feedback");
      const optionButtons = document.querySelectorAll(".option-btn");

      const btnNext = document.getElementById("btnNext");
      const btnShowChinese = document.getElementById("btnShowChinese");
      const addForm = document.getElementById("addQuestionForm");
      const successAlert = document.getElementById("successAlert");

      // æ ‡ç­¾åˆ‡æ¢
      const tabBtns = document.querySelectorAll(".tab-btn");
      const tabContents = document.querySelectorAll(".tab-content");
      tabBtns.forEach(btn => {
        btn.addEventListener("click", () => {
          const tabId = btn.getAttribute("data-tab");
          tabBtns.forEach(b => b.classList.remove("active"));
          tabContents.forEach(c => c.classList.remove("active"));
          btn.classList.add("active");
          document.getElementById(tabId).classList.add("active");
        });
      });

      // å·¥å…·å‡½æ•°ï¼šéšæœºå–é¢˜
      function pickRandomQuestion() {
        const questions = getQuestions();
        const index = Math.floor(Math.random() * questions.length);
        return questions[index];
      }

      // åˆ·æ–°è¿›åº¦æ¡ & æ–‡æœ¬
      function updateXPBar() {
        const percent = Math.min(100, (xp / xpToNext) * 100);
        xpBarEl.style.width = percent + "%";
        xpTextEl.textContent = xp + " / " + xpToNext + " ç»éªŒ å‡çº§";
      }

      // å‡çº§æ£€æŸ¥
      function checkLevelUp() {
        if (xp >= xpToNext) {
          level++;
          levelEl.textContent = level;
          levelUpBanner.classList.remove("hidden");

          // ä¿ç•™å¤šä½™ç»éªŒ
          xp = xp - xpToNext;
          // å‡çº§æ‰€éœ€ç»éªŒé€’å¢
          xpToNext += 3;
          updateXPBar();

          // éšè—å‡çº§æç¤º
          setTimeout(() => {
            levelUpBanner.classList.add("hidden");
          }, 2000);
        } else {
          updateXPBar();
        }
      }

      // æ˜¾ç¤ºå½“å‰é¢˜ç›®
      function renderQuestion() {
        currentQuestion = pickRandomQuestion();
        hasAnswered = false;
        feedbackEl.innerHTML = "";

        sceneTagEl.textContent = "æƒ…æ™¯ï¼š" + currentQuestion.scene;
        cnSentenceEl.textContent = currentQuestion.cn;
        hintEl.textContent = "æç¤ºï¼šä¸å¹¼å„¿å›­åœºæ™¯ç›¸å…³ï¼Œå¯ä»¥å¤§å£°è¯»ä¸€éè‹±æ–‡é€‰é¡¹ã€‚";

        // æ‰“ä¹±é€‰é¡¹é¡ºåº
        const shuffled = currentQuestion.options
          .map((text, idx) => ({ text, idx }))
          .sort(() => Math.random() - 0.5);

        optionButtons.forEach((btn, i) => {
          const item = shuffled[i];
          btn.textContent = item.text;
          btn.dataset.index = item.idx;
          btn.classList.remove("correct", "wrong");
          btn.disabled = false;
        });
      }

      // ç­”é¢˜é€»è¾‘
      function handleAnswerClick(e) {
        if (hasAnswered) return;
        hasAnswered = true;

        const chosenIndex = Number(e.currentTarget.dataset.index);
        const correctIndex = currentQuestion.correctIndex;

        optionButtons.forEach((btn) => {
          const idx = Number(btn.dataset.index);
          btn.disabled = true;
          if (idx === correctIndex) {
            btn.classList.add("correct");
          }
        });

        if (chosenIndex === correctIndex) {
          score++;
          streak++;
          scoreEl.textContent = score;
          streakEl.textContent = streak;

          xp += 1;
          checkLevelUp();

          feedbackEl.innerHTML =
            '<span class="positive">âœ” å¤ªæ£’äº†ï¼ç­”å¯¹å•¦ã€‚</span> ' +
            '<span class="note">ğŸ‘©â€ğŸ« ' +
            (currentQuestion.note || "") +
            "</span>";
        } else {
          streak = 0;
          streakEl.textContent = streak;

          optionButtons.forEach((btn) => {
            const idx = Number(btn.dataset.index);
            if (idx === chosenIndex && idx !== correctIndex) {
              btn.classList.add("wrong");
            }
          });

          feedbackEl.innerHTML =
            '<span class="negative">âœ˜ è¿™å¥æ›´è‡ªç„¶çš„è¯´æ³•æ˜¯ï¼š</span> ' +
            '<span class="note">' +
            currentQuestion.options[correctIndex] +
            "</span>";
        }
      }

      // æ˜¾ç¤ºä¸­è‹±å¯¹ç…§
      function showChineseEnglish() {
        if (!currentQuestion) return;
        feedbackEl.innerHTML =
          '<span class="note">ğŸ“ ä¸­è‹±å¯¹ç…§ï¼š</span><br>' +
          '<span class="note">ã€Œ' +
          currentQuestion.cn +
          "ã€<br>â¡ ã€Œ" +
          currentQuestion.options[currentQuestion.correctIndex] +
          "ã€</span>";
      }

      // æ·»åŠ é¢˜ç›®è¡¨å•æäº¤
      addForm.addEventListener("submit", function(e) {
        e.preventDefault();
        
        const newScene = document.getElementById("newScene").value.trim();
        const newCn = document.getElementById("newCn").value.trim();
        const newOpt1 = document.getElementById("newOpt1").value.trim();
        const newOpt2 = document.getElementById("newOpt2").value.trim();
        const newOpt3 = document.getElementById("newOpt3").value.trim();
        const newCorrectIndex = Number(document.getElementById("newCorrectIndex").value);
        const newNote = document.getElementById("newNote").value.trim();

        // éªŒè¯è¾“å…¥
        if (!newScene || !newCn || !newOpt1 || !newOpt2 || !newOpt3) {
          alert("è¯·å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹ï¼");
          return;
        }

        // åˆ›å»ºæ–°é¢˜ç›®
        const newQuestion = {
          scene: newScene,
          cn: newCn,
          options: [newOpt1, newOpt2, newOpt3],
          correctIndex: newCorrectIndex,
          note: newNote
        };

        // ä¿å­˜æ–°é¢˜ç›®
        addNewQuestion(newQuestion);

        // é‡ç½®è¡¨å•
        addForm.reset();

        // æ˜¾ç¤ºæˆåŠŸæç¤º
        successAlert.classList.add("show");
        setTimeout(() => {
          successAlert.classList.remove("show");
        }, 2000);
      });

      // äº‹ä»¶ç»‘å®š
      optionButtons.forEach((btn) => {
        btn.addEventListener("click", handleAnswerClick);
      });

      btnNext.addEventListener("click", function () {
        renderQuestion();
      });

      btnShowChinese.addEventListener("click", function () {
        showChineseEnglish();
      });

      // åˆå§‹åŒ–
      updateXPBar();
      updateQuestionCount();
      renderQuestion();
    });
  </script>
</body>
</html>